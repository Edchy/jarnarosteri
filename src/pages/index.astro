---
import Layout from "../layouts/Layout.astro";
import Image from "astro/components/Image.astro";
import Card from "../components/Card.astro";

import { fade } from "astro:transitions";
import { slide } from "astro:transitions";
---

<Layout title="J채rna Rosteri">
  <nav>
    <h1 class="visually-hidden">J채rna Rosteri</h1>
    <menu class="hero-links">
      <Card
        color="var(--color-6)"
        bg="var(--color-light)"
        body="kaffet."
        id="image-0"
        hoverBg="var(--color-3)"
        className="image-0"
        href="./kaffe"
        imageSrc="/images/gallery/img1.avif"
      />

      <Card
        color="var(--color-brand-1)"
        bg="var(--color-brand-1)"
        body="n책t."
        id="image-1"
        hoverBg="var(--color-4-dark)"
        className="image-1"
        href="./"
        imageSrc="/images/gallery/img2.avif"
      />
      <Card
        color="var(--color-dark)"
        bg="var(--color-dark)"
        body="rosteriet."
        id="image-2"
        hoverBg="var(--color-light)"
        className="image-2"
        href="./om"
        imageSrc="/images/gallery/img3.avif"
      />
      <Card
        color="pink"
        bg="pink"
        body="gallerian"
        id="image-3"
        hoverBg="var(--color-brand-2)"
        className="image-3"
        href="./"
        imageSrc="/images/gallery/img4.avif"
      />
      <Card
        color="pink"
        bg="black"
        body="n책t."
        id="image-4"
        hoverBg="var(--color-1)"
        className="image-4"
        href="./"
        imageSrc="/images/gallery/img5.avif"
      />
      <Card
        color="var(--color-3)"
        bg="black"
        body="hej."
        id="image-5"
        hoverBg="var(--color-1)"
        className="image-5"
        href="./kontakt"
        imageSrc="/images/gallery/img6.avif"
      />
    </menu>
  </nav>
</Layout>
<style is:global>
  /* .heading {
    position: absolute;
    left: 0;
    top: 20%;
    color: white;
    z-index: 100;
    transform: rotate(-45deg);
    font-family: "JakobHand";
    font-family: "Betelgeuse";
    font-size: 3rem;
    color: var(--color-2);
    background-color: var(--color-light);
    padding-inline: 2rem;
    padding-block: 1rem;
    transition: opacity 0.2s;
  } */
  nav:hover .heading {
    /* background-color: white; */
    opacity: 0;
    /* transform: translateX(-100%); */
    pointer-events: none;
  }
  .visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
  }

  .hero-links {
    display: grid;
    list-style: none;
    padding: 0;
    /* gap: 0.5rem; */
    grid-template-columns: 1fr;
    min-height: 100vh;
  }
  .image-0 {
    /* animation: var(--animation-slide-in-right); */

    & div {
      /* border-radius: var(--radius-blob-1); */
    }
    & div:hover {
      -webkit-mask: var(--mask-edge-zig-zag-left);
      -webkit-mask: var(--mask-corner-cut-squares-3);
      -webkit-mask: var(--mask-edge-drip-bottom);
    }
    & h2 {
      transform: rotate(-45deg);
    }
  }
  .image-1 {
    /* animation: var(--animation-slide-in-up); */
    /* transition: all 2s; */
    & div {
      /* border-radius: var(--radius-drawn-3); */
    }
    & div:hover {
      /* -webkit-mask: var(--mask-edge-zig-zag-left); */
      -webkit-mask: var(--mask-corner-cut-squares-2);
      -webkit-mask: var(--mask-corner-cut-circles-3);
      -webkit-mask: var(--mask-edge-drip-bottom);
    }
  }
  .image-2 {
    /* animation: var(--animation-slide-in-right); */
    /* transition: all 2s; */
    & div:hover {
      -webkit-mask: var(--mask-edge-zig-zag-left);
      -webkit-mask: var(--mask-corner-cut-angles-3);
      -webkit-mask: var(--mask-edge-drip-bottom);
    }
    & h2 {
      transform: rotate(45deg);
    }
  }
  .image-3 {
    /* animation: var(--animation-slide-in-right); */
    /* transition: all 2s; */
    & div:hover {
      -webkit-mask: var(--mask-corner-cut-angles-3);
      -webkit-mask: var(--mask-edge-zig-zag-horizontal);
      -webkit-mask: var(--mask-edge-drip-top);
    }
  }
  .image-4 {
    /* animation: var(--animation-slide-in-right); */
    /* transition: all 2s; */
    & div:hover {
      -webkit-mask: var(--mask-corner-cut-squares-2);
      -webkit-mask: var(--mask-corner-cut-circles-3);
      -webkit-mask: var(--mask-edge-drip-top);
    }
  }
  .image-5 {
    /* animation: var(--animation-slide-in-right); */
    /* transition: all 2s; */
    & div:hover {
      -webkit-mask: var(--mask-corner-cut-squares-2);
      -webkit-mask: var(--mask-corner-cut-circles-3);
      -webkit-mask: var(--mask-edge-scalloped-vertical);
      -webkit-mask: var(--mask-edge-drip-top);
    }
  }
  @media (min-width: 700px) {
    .hero-links {
      grid-template-columns: 1fr 1fr;
    }
  }
  @media (min-width: 900px) {
    .hero-links {
      grid-template-columns: 1fr 1fr 1fr;
    }
  }
</style>
<!-- <script>
  async function loadImages() {
    const response = await fetch("../data/images.json");
    let images = await response.json();
    shuffle(images);

    images.slice(0, 6).forEach((src, i) => {
      const img = document.getElementById(`image-${i}`) as HTMLImageElement;
      if (img) img.src = src;
    });

    const articles = document.querySelectorAll(".hero-links li");
    let imageIndex = 6;

    articles.forEach((article) => {
      article.addEventListener("mouseenter", () => {
        const img = article.querySelector("img");
        if (imageIndex >= images.length) {
          shuffle(images);
          imageIndex = 0;
        }
        if (img) img.src = images[imageIndex++];
      });
    });
  }

  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }

  document.addEventListener("astro:page-load", loadImages);
  loadImages();
</script> -->
